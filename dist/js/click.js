import calcCart from"./calc-cart.js";export default function click(e){document.querySelectorAll(".nav_popup, .nav_popup_2");document.body.addEventListener("click",(function(t){function s(e){return t.target.closest(e)}const c=s(".header__burger");c&&(e.menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")}),c.classList.contains("is-mobile-menu-active")?c.setAttribute("aria-label",c.dataset.forClose):c.setAttribute("aria-label",c.dataset.forOpen));const a=s(".header__accordion_target");a&&(a.classList.contains("is-active")?a.classList.remove("is-active"):(document.querySelectorAll(".header__accordion_target.is-active").forEach(e=>e.classList.remove("is-active")),a.classList.add("is-active")));const i=s(".carousel__tab_nav a");if(i&&(t.preventDefault(),!i.classList.contains("is-active"))){document.querySelectorAll(".carousel__tab_nav a.is-active").forEach(e=>{const t=document.querySelector(e.getAttribute("href"));e.classList.remove("is-active"),t.classList.remove("is-active")});document.querySelector(i.getAttribute("href")).classList.add("is-active"),i.classList.add("is-active")}const o=s(".seo_text__target");o&&o.classList.toggle("is-active");const r=s(".filter__item_target");r?r.parentElement.classList.contains("is-active")?document.querySelectorAll(".filter__item.is-active").forEach(e=>e.classList.remove("is-active")):(document.querySelectorAll(".filter__item.is-active").forEach(e=>e.classList.remove("is-active")),r.parentElement.classList.add("is-active")):s(".filter__item")||document.querySelectorAll(".filter__item.is-active").forEach(e=>e.classList.remove("is-active"));const l=s(".categories_filter__item_target");l?l.parentElement.classList.contains("is-active")?document.querySelectorAll(".categories_filter__item.is-active").forEach(e=>e.classList.remove("is-active")):(document.querySelectorAll(".categories_filter__item.is-active").forEach(e=>e.classList.remove("is-active")),l.parentElement.classList.add("is-active")):s(".categories_filter__item")||document.querySelectorAll(".categories_filter__item.is-active").forEach(e=>e.classList.remove("is-active"));const _=s(".sort__target");_?_.parentElement.classList.contains("is-active")?document.querySelectorAll(".sort__wrapper.is-active").forEach(e=>e.classList.remove("is-active")):(document.querySelectorAll(".sort__wrapper.is-active").forEach(e=>e.classList.remove("is-active")),_.parentElement.classList.add("is-active")):s(".sort__wrapper")||document.querySelectorAll(".sort__wrapper.is-active").forEach(e=>e.classList.remove("is-active"));s(".filter_open")&&document.querySelectorAll(".filter").forEach(e=>e.classList.add("is-active"));s(".sort_open")&&document.querySelectorAll(".sort").forEach(e=>e.classList.add("is-active"));s(".filter__close")&&document.querySelectorAll(".filter").forEach(e=>e.classList.remove("is-active"));s(".sort__close")&&document.querySelectorAll(".sort").forEach(e=>e.classList.remove("is-active"));s(".filter_reset, .filter__footer_reset")&&(document.querySelectorAll(".filter__check_list input").forEach(e=>{e.checked=!1}),document.querySelectorAll(".filter__round_check_list input").forEach(e=>{e.checked=!1}),document.querySelectorAll(".filter__price_range").forEach(e=>{const t=e.querySelector("[data-is-min]"),s=e.querySelector("[data-is-max]");t.value=t.dataset.value,s.value=s.dataset.value}),e.countCheckboxes());const n=s(".filter_checked_list li");if(n){if(n.dataset.key)document.querySelector(`.filter [data-name="${n.dataset.item}"] [data-key="${n.dataset.key}"]`).checked=!1;else if("min"==n.dataset.type||"max"==n.dataset.type){const e=document.querySelector(`.filter [data-name="${n.dataset.item}"] [data-is-${n.dataset.type}]`);e.value=e.dataset.value;const t=new Event("blur");e.dispatchEvent(t)}e.countCheckboxes()}const u=s(".product__info_target");if(u){const e=u.closest(".product__info");u.classList.contains("is-active")?u.classList.remove("is-active"):(e.querySelectorAll(".product__info_target.is-active").forEach(e=>e.classList.remove("is-active")),u.classList.add("is-active"))}s(".product__favorite")&&document.querySelectorAll(".product__favorite").forEach(e=>e.classList.toggle("is-active"));const d=s(".cart_item__length_minus");if(d){const e=d.parentElement.querySelector("input");e.value=e.value-1<=0?1:e.value-1,calcCart()}const v=s(".cart_item__length_plus");if(v){const e=v.parentElement.querySelector("input"),t=!!e.dataset.max&&Number(e.dataset.max);e.value=t&&Number(e.value)+1>=t?t:Number(e.value)+1,calcCart()}const m=s(".cart_item__remove");if(m){const e=m.closest(".cart_item");e.classList.add("is-removing"),setTimeout(()=>{e.remove(),calcCart()},400)}const p=s(".cart_popup__reset");if(p){p.closest(".cart_popup__table").querySelectorAll(".cart_item").forEach(e=>{e.classList.add("is-removing"),setTimeout(()=>{e.remove(),calcCart()},400)})}const f=s(".cart_popup__promocode_target");f&&f.parentElement.classList.add("is-active");const L=s(".cart_popup__promocode_close");L&&L.closest(".cart_popup__promocode").classList.remove("is-active");const h=s(".cart_popup__list_target");h&&h.classList.toggle("is-active");const y=s(".checkout__drop_down_open");y&&y.closest(".checkout__drop_down").classList.add("is-active");const g=s(".checkout__drop_down_close");g&&g.closest(".checkout__drop_down").classList.remove("is-active");const q=s(".page_section__nav_target");q?q.classList.contains("is-active")?q.classList.remove("is-active"):q.classList.add("is-active"):s(".page_section__nav")||document.querySelectorAll(".page_section__nav_target.is-active").forEach(e=>e.classList.remove("is-active"));const S=s(".faq__question");S&&(S.classList.contains("is-active")?S.classList.remove("is-active"):(document.querySelectorAll(".faq__question.is-active").forEach(e=>e.classList.remove("is-active")),S.classList.add("is-active")));const E=s(".hero_categories__target");E?E.classList.toggle("is-active"):s(".hero_categories")||document.querySelectorAll(".hero_categories__target.is-active").forEach(e=>e.classList.remove("is-active"));const b=s(".header-open-block");if(b){t.preventDefault();const e=b.closest(".header__mob_popup"),s=e.querySelector(".header__mob_popup_main"),c=s.querySelector(""+b.getAttribute("href")),a=s.querySelector(".header__mob_popup_block.is-active");s.classList.add("is-hidden"),e.classList.add("is-active-block"),setTimeout(()=>{a.classList.remove("is-active"),c.classList.add("is-active"),e.scrollTop=0,s.classList.remove("is-hidden")},300)}const A=s(".header__mob_popup_forward");if(A){const e=A.closest(".header__mob_popup"),t=e.querySelector(".header__mob_popup_main"),s=t.querySelector(".header__mob_popup_block.is-default"),c=t.querySelector(".header__mob_popup_block.is-active");t.classList.add("is-hidden"),e.classList.remove("is-active-block"),setTimeout(()=>{c.classList.remove("is-active"),s.classList.add("is-active"),t.classList.remove("is-hidden")},300)}s(".nav_popup")||s(".nav_popup_2")||s(".header__nav_list > li > a")||e.closeNavPopup()}))}