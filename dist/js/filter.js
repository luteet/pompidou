export default function filter(e){e.resultList&&e.countCheckboxes(),document.querySelectorAll(".filter__item").forEach(t=>{t.querySelector(".filter__item_block").querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(t=>{t.addEventListener("change",()=>{e.countCheckboxes(),e.main.classList.add("is-loading"),e.onChange()})})}),document.querySelectorAll(".categories_filter__item_block").forEach(t=>{const s=t.dataset.name,l=t.closest(".categories_filter__item").querySelector(".categories_filter__item_target");t.querySelectorAll(".categories_filter__item_list input").forEach((r,c)=>{r.addEventListener("change",()=>{if(r.checked){let s;document.querySelectorAll(".categories_filter__item_element.is-active").forEach(e=>e.classList.remove("is-active")),r.closest(".categories_filter__item_element").classList.add("is-active"),s=r.closest("label").querySelector("span").textContent,s=s[0].toUpperCase()+s.slice(1),l.setAttribute("aria-label",s),l.querySelector(".categories_filter__item_checked").textContent=s,r.closest("li").querySelector("li")||t.closest(".categories_filter__item").classList.remove("is-active"),e.main.classList.add("is-loading"),e.onChange()}else document.querySelectorAll(".categories_filter__item_block").forEach(e=>{if(e.dataset.name==s){e.querySelectorAll(".categories_filter__item_list input")[c].closest(".categories_filter__item_element").classList.remove("is-active")}})})})}),document.querySelectorAll(".sort__block").forEach(t=>{const s=t.dataset.name,l=t.closest(".sort").querySelector(".sort__target");t.querySelectorAll(".sort__list input").forEach((r,c)=>{r.addEventListener("change",()=>{if(r.checked){let s;document.querySelectorAll(".sort__element.is-active").forEach(e=>e.classList.remove("is-active")),r.closest(".sort__element").classList.add("is-active"),s=r.closest("label").querySelector("span").textContent,s=s[0].toUpperCase()+s.slice(1),l.setAttribute("aria-label",s),l.querySelector(".sort__target_checked").textContent=s,t.closest(".sort__wrapper").classList.remove("is-active"),e.main.classList.add("is-loading"),e.onChange()}else document.querySelectorAll(".sort__block").forEach(e=>{if(e.dataset.name==s){e.querySelectorAll(".sort__list input")[c].closest(".sort__element").classList.remove("is-active")}})})})})}